<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.min.js"></script>
	<meta charset="UTF-8">
	<th:block th:replace="common/mainCommon :: head"></th:block>
	<link rel="stylesheet" href="/static/css/corner/detailView.css">
</head>
<body>
<th:block th:replace="common/mainCommon :: beforePagename"></th:block>

<div class="header">
	<div class="back-button" onclick="goBack()"><img src="/static/images/back-button.png"></div>
	<h3>제품 상세 정보</h3>
</div>

<div class="index">
	<div> 상품 조회수 : [[${dto.goodsDTO.visitCount}]] </div>
	<div><img th:src="|/static/upload/${dto.goodsDTO.goodsMainStore}|" alt="상품이미지"/></div>
	<div>카테고리 : [[${dto.goodsDTO.goodsCategory}]]</div>
	<div>상품명 : [[${dto.goodsDTO.goodsName}]]</div>

	<div>
		<div th:if="${dto.stock > 0 }">
			<button id="decrement" class="qty-button">-</button>
			<input type="number" id="qty" name="qty" class="qty-input" value="1">
			<button id="increment" class="qty-button">+</button>
		</div>

		<div>가격 : [[${#numbers.formatCurrency(dto.goodsDTO.goodsPrice)+'원'}]]</div>
		<div>배송비
			<span th:if="${dto.goodsDTO.deliveryCost == 0}">무료배송</span>
			<span th:if="${dto.goodsDTO.deliveryCost != 0}">[[${#numbers.formatCurrency(dto.goodsDTO.deliveryCost) + '원'}]]</span>
		</div>
	</div>
	<div th:if="${dto.stock > 0 }">총 상품 금액 <span id="tot">[[${#numbers.formatCurrency(dto.goodsDTO.goodsPrice) + '원'}]]</span></div>
	<div th:if="${dto.stock <= 0 }" >품절</div>
	<div>
		<button type="button" id="buyItem" >구매하기</button>
		<button type="button" id="cartBtn" >장바구니</button>
		<th:block th:if="${wish == null}">
			<button id="wish">
			<img src="/static/images/heart1.png" width="20" />찜하기
			</button>
		</th:block>
		<th:block th:if="${wish != null}">
			<button id="wish">
			<img src="/static/images/heart.png" id="wish" width="20" />찜하기
			</button>
		</th:block>
	</div>
	<div>
	<th:block  th:each=" goodsImage : ${#strings.arraySplit(goodsCommand.goodsImages,'-')}">
		<img th:src="|/static/upload/${goodsImage}|" />
	</th:block>
	</div>
	<div th:utext="${#strings.replace(goodsCommand.goodsContent ,newLine,'&lt;br /&gt;' )}" ></div>
	<br/>
	<span id="review">리뷰</span> |
	<span id="inquire" >상품문의</span>
	<div id="notice"></div>
</div>
<th:block th:replace="common/mainCommon :: fromIndex"></th:block>

	<script th:inline="javascript">
		/*<![CDATA[*/
		const goodsNum = [[${dto.goodsDTO.goodsNum}]];
		const goodsPrice = [[${dto.goodsDTO.goodsPrice}]];
		const auth = [[${session.auth}]];
		const stock = [[${dto.stock}]];
		/*]]>*/
	</script>
	<script src="/static/js/corner/detailView.js"></script>
	<script src="/static/js/test.js"></script>
</body>
</html>